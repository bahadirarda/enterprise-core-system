<!DOCTYPE html>
<html>
<head>
    <title>Auth Debug Test</title>
</head>
<body>
    <h1>Auth Debug Test</h1>
    <button onclick="checkLocalStorage()">Check localStorage</button>
    <button onclick="clearStorage()">Clear Storage</button>
    <button onclick="testRedirect()">Test Redirect to Portal</button>
    
    <div id="output"></div>

    <script>
        function checkLocalStorage() {
            const session = localStorage.getItem('hrms_shared_session');
            const activity = localStorage.getItem('hrms_last_activity');
            
            document.getElementById('output').innerHTML = `
                <h3>LocalStorage Contents:</h3>
                <p><strong>Session:</strong> ${session ? 'Found' : 'Not found'}</p>
                <p><strong>Activity:</strong> ${activity ? new Date(parseInt(activity)).toLocaleString() : 'Not found'}</p>
                <pre>${session || 'No session data'}</pre>
            `;
        }
        
        function clearStorage() {
            localStorage.removeItem('hrms_shared_session');
            localStorage.removeItem('hrms_last_activity');
            alert('Storage cleared');
        }
        
        function testRedirect() {
            window.location.href = 'http://localhost:3002';
        }
        
        // Auto check on load
        window.onload = checkLocalStorage;
    </script>
</body>
</html> 